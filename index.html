<!DOCTYPE html>
<html ng-app="bracketsApp">
<head>
	<title>Angular Brackets | {{searchText}}</title>
	<script type="text/javascript" src="js/angular.js"></script>
	<script type="text/javascript" src="js/angular-route.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular-resource.min.js"></script>
</head>
	<body ng-controller="MainController">
		<h1>~Brackets~</h1>

		<div ng-view></div>

		<p>Searching for: {{searchText}}</p>
		<input type="text" ng-model="searchText"/>
		<table>
			<tr ng-repeat="people in peoples | filter:searchText">
				<td><a href="#/{{ people.name }}">{{people.name}}</a></td>
				<td>{{people.points}}</td>
			</tr>
		</table>
	




	<script type="text/javascript">
		var app = angular.module('bracketsApp', ['ngRoute','ngResource']);

		app.config(function($routeProvider) {
			$routeProvider.when('/:personId',
			{
				controller:'PeopleController',
				templateUrl: '/app/views/people.html'
			})
			.otherwise({
				redirectTo: '/'
			});
		});

		app.controller('MainController', function($scope, $rootScope){
			$rootScope.peoples = [
				{"id": 1, "name":"Lorem", "points":0},
				{"id": 2, "name":"Ipsum", "points":2},
				{"id": 3, "name":"Dolors", "points":5},
				{"id": 4, "name":"Sit", "points":1},
				{"id": 5, "name":"Amet", "points":1},
				{"id": 6, "name":"Fusce", "points":0},
				{"id": 7, "name":"Rhoncus", "points":3},
				{"id": 8, "name":"Magna", "points":2},
				{"id": 9, "name":"Duis", "points":6},
				{"id": 10, "name":"Luctus", "points":4},
				{"id": 11, "name":"Elit", "points":0},
				{"id": 12, "name":"Odio", "points":1}
			];
		});



		app.controller('PeopleController',['$scope','$routeParams','$rootScope','$filter',
			function($scope,$routeParams,$rootScope,$filter){
				$scope.person = $filter('filter')($rootScope.peoples, {name: $routeParams.personId})[0];
			}
		]);



	</script>
	</body>
</html>